<!DOCTYPE html>
<html>

<head>
	<style> 
		#m_box
		{
			background-color:#09c; width:30px; height;30px;
		}
	</style>
	<script type="text/javascript">
	//regular expression 정규 표현식 
		
	
	    var arrayofstring=[];
		var win1; 
		var regname = /^[가-힣]{2,5}$/;
		var regEmail = /^\w{5,12}@[a-z]{2,10}[\.][a-z]{2,3}[\.]?[a-z]{0,2}/;
		var regHp = /^(010|016|018)\d{3,4}\d{4}$/;
		var count=0;
		function myFunction(v)
		{
			var keycode=event.keyCode;
			count++;
			if(count>20)
			{
				count--;
				alert('20자 초과' );
					
			}
			if(v.keycode==8)
			{
					--count;
			}
			
			
		}
		
		function emailChange(val)
		{
			if(val === "직접입력")
			{
				var getEmailDirectid = document.getElementById("email2")
				getEmailDirectid.style.display="block";
				var selEmail  = document.getElementById("selEmail")
				selEmail.style.display = "none";
			}
		};
		function sendData() 
		{
			
			var sName = document.getElementById("sName");
			var sNameStr  = sName.value;
			if(sNameStr == null || sNameStr == '') {
				alert("이름을 입력 하세요!");
				sName.focus();
				return false;
			}
			if(sNameStr.length <= 1) {
				alert("이름은 한글자 이상 입력 하세요");
				sName.focus();
				return false;
			}
			var email = document.getElementById("email");
			var emailVal = email.value;
			if(emailVal == null || emailVal=='')
			{
				alert("email 입력 하시오 ");
				email.focus();
				return false;
			}
			var selEmail = document.getElementById("selEmail");
			selEmailVal = selEmail.value;
			if(selEmail == "")
			{
				alert("email input or choose plz ");
				selEmail.focus();
				return false; 
			}
			var emailstr = email.value + "@"; 
			if(selEmailVal === "직접입력")
			{
				emailstr += document.getElementById("email2").value;
			}
			else 
			{
				emailstr +=selEmailVal;
			}
			//id 는 hp
			var hp = document.getElementById("hp");
			var hpVal = hp.value;
			if(!regname.test(sName.value))
			{
				alert("이름 형식에 맞게 입력하세요 ");
				return;
			}
			if(!regHp.test(hpVal))
			{
				alert("휴대폰 번호 형식에 맞게끔 입력  ");
				return;
			}
			if(!regEmail.test(emailstr))
			{
				alert("이메일 형식이 틀렸습니다.");
				return ;
			}

			var str = "이름: "+ sName.value+"\n";
			str+= "H.P: " +hpVal + "\n";
			str += "email: " +email.value +"@";
			alert(str);
			this.submit();//전체적인 시트를 갖고 있다. 
		}
		function openWin()
		{
			win1= window.open("openwin.html","win1","width=400,height=500,left=50,top=100,scrollbars=no,toolbars=no,location=no");
		};
		//settimeout 타이머함수 1
		function startTime()
		{
			settimeout(function()
			{
				alert("3초후 실행 ");

			},3000)

		}
		/*** 타이머 함수2 ***/
		function startT()
		{
			setTimeout(three,3000);
		}
		function three() 
		{
			alert("3초후 실행된 함수 ");
		}
		//////////
		
		
	</script>

</head>

<!-- upgrade ver. open window -->
<body onload="openWin()" >

<form id="form1" onsubmit="sendData(); return false;">

	<table border="1">
		<tr>
			<th>이름</th>
			<td>
				<input type="text" onkeypress="myFunction(this.value)"  id="sName" minlength="1" maxlength="20" placeholder="이름입력" autofocus="true"  />
			</td>
		</tr>
		<tr>
			<th>*HP</th>
			<td>
				<input type = "text" onkeypress="myFunction(this.value)"  id = "hp" minlength="1" maxlength="15" placeholder="input phone Number">
			</td>
		</tr>
		<tr>
			<th>
				이메일
			</th>
			<td>
				<input type="text" onkeypress="myFunction(this.value)" id="email" />@
				<select id="selEmail" onchange = "emailChange(this.value)">
					<option value="">선택 하세요</option>
					<option value="naver.com">naver.com</option>
					<option value="daum.net">daum.net</option>
					<option value="직접입력">직접입력</option>
				</select>
				<input type="text" onkeypress="myFunction(this.value)"  id="email2" style="display:none;" />
			</td>
		</tr>
		<tr align="center">
			<td colspan="2">
				<input type="submit" value="회원가입" />
				<button type="button" onclick="win1.location.href='http://daum.net'">move to child window </button>
				<button type="button" onclick="startT()"> </button>
		</tr>
		
	</table>
	
	<div id="addr">
	
	</div>
	
	
</form>
	

</body>

</html>